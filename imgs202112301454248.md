**同步与异步，阻塞与非阻塞**

上一节课程中我们提到了 阻塞 与 非阻塞 、 同步 与 异步 ，很多同学可能会认为 同步 就是 阻塞 ， 异步 就是 非阻塞 ，非也非也~~这一节咱们来聊一聊他们

区别，如果学习过的可以当做复习，如果不太清楚的，可以好好的了解一番，因为这些概念往往在面试过程中有可能会被面试官问到。

这四个概念两两组合，会形成4个新的概念，如下：

**1.** **同步阻塞：** 客户端发送请求给服务端，此时服务端处理任务时间很久，则客户端则被服务端堵塞了，所以客户端会一直等待服务端的响应，此时客户端不能做

事，服务端也不会接受其他客户端的请求。这种通信机制比较简单粗暴，但是效率不高。

**2.** **同步非阻塞：** 客户端发送请求给服务端，此时服务端处理任务时间很久，这个时候虽然客户端会一直等待响应，但是服务端可以处理其他的请求，过一会回来

的。这种方式很高效，一个服务端可以处理很多请求，不会在因为任务没有处理完而堵着，所以这是非阻塞的。

**3.** **异步阻塞：** 客户端发送请求给服务端，此时服务端处理任务时间很久，但是客户端不会等待服务器响应，它可以做其他的任务，等服务器处理完毕后再把结果

端，客户端得到回调后再处理服务端的响应。这种方式可以避免客户端一直处于等待的状态，优化了用户体验，其实就是类似于网页里发起的ajax异步请求。

**4.** **异步非阻塞：** 客户端发送请求给服务端，此时服务端处理任务时间很久，这个时候的任务虽然处理时间会很久，但是客户端可以做其他的任务，因为他是异步

回调函数里处理响应；同时服务端是非阻塞的，所以服务端可以去处理其他的任务，如此，这个模式就显得非常的高效了。

以上四点，除了第三点，其余的分别为BIO/NIO/AIO，面试官如果问你 “请简述一下BIO/NIO/AIO之间的概念与区别” ，那么你就可以组织一下语言来回答

下生活实例来阐述也是可以的：

**1. BIO****：** 我去上厕所，这个时候坑位都满了，我必须等待坑位释放了，我才能上吧？！此时我啥都不干，站在厕所里盯着，过了一会有人出来了，我就赶紧蹲上

**2. NIO****：** 我去上厕所，这个时候坑位都满了，没关系，哥不急，我出去抽根烟，过会回来看看有没有空位，如果有我就蹲，如果没有我出去接着抽烟或者玩会手

**3.** **异步阻塞：** 我去上厕所，这个时候坑位都满了，没事我等着，等有了新的空位，让他通知我就行，通知了我，我就蹲上去。

**4. AIO****：** 我去上厕所，这个时候坑位都满了，没事，我一点也不急，我去厕所外面抽根烟再玩玩手机，等有新的坑位释放了，会有人通知我的，通知我了，我就

了。

从这个生活实例中能可以看得出来：

同步 就是我需要自己每隔一段时间，以轮训的方式去看看有没有空的坑位；

异步 则是有人拉完茅坑会通知你，通知你后你再回去蹲；

阻塞 就是在等待的过程中，你不去做其他任何事情，干等着；

非阻塞 就是你再等待的过程中可以去做其他的事，比如抽烟、喝酒、烫头、玩手机。

**小结：** 异步 的优势显而易见，大大优化用户体验， 非阻塞 

使得系统资源开销远远小于 阻塞 模式，因为系统不需要创建新的进程(或线程)，大大地节省了系统

多出来的系统资源可以给其他的中间件去服务了。